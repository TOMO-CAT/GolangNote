# Golang包管理

## 初始化

每一个包都允许设置一个`init()`函数，当这个包被导入时，会首先执行该函数完成某些初始化操作：

* `init()`函数先于`main()`函数执行
* 包的初始化函数是深度优先的，假设包引用链为`mian`->`A`->`B`，那么首先执行`B`包的`init()`函数，再执行`A`包的`init()`函数，最后执行`main`包下的`init()`函数

## 匿名导入

在Go中，如果导入一个包但是没有使用的话编译期间会报错。如果我们只是想执行包的`init()`函数，可以采用匿名导入的方式：

```go
import _ "foo"
```

> 这种情况下编译时依然会将这个包编译到可执行文件中。

## 包导入搜寻路径

#### 1. govendor

* 项目根目录下的`vendor`
* `$GOROOT/src`
* `$GOPATH/src`

#### 2. go module

* 如果导入的包有域名，会首先`$GOPATH/pkg/mod`下找，找不到的话就联网搜索
* 如果导入的包没有域名（比如标准库），只会到`$GOROOT`下找

## import特殊符号

golang中import包涉及两个特殊符号：

* `.`：导入之后该包的函数和变量不需要再直接写入包名称
* `_`：导入之后该包的`init()`函数被导入，但是不导入其他函数

